-- Create role dba
CREATE ROLE "dba"  WITH LOGIN PASSWORD 'dba-admin' CREATEDB CREATEROLE;

-- Permiss√£o para alterar qualquer role
GRANT ALL PRIVILEGES ON DATABASE empresa_de_transportes TO dba WITH GRANT OPTION;

GRANT ALL PRIVILEGES ON TABLE cliente TO dba WITH GRANT OPTION;
GRANT ALL PRIVILEGES ON TABLE disponibilidade TO dba WITH GRANT OPTION;
GRANT ALL PRIVILEGES ON TABLE compra TO dba WITH GRANT OPTION;
GRANT ALL PRIVILEGES ON TABLE veiculos TO dba WITH GRANT OPTION;
GRANT ALL PRIVILEGES ON TABLE rotas TO dba WITH GRANT OPTION;
GRANT ALL PRIVILEGES ON TABLE horario TO dba WITH GRANT OPTION;
GRANT ALL PRIVILEGES ON TABLE cidade TO dba WITH GRANT OPTION;

CREATE ROLE "Anonimo";
GRANT SELECT ON TABLE disponibilidade TO "Anonimo";

CREATE ROLE "Gerente" WITH LOGIN PASSWORD 'gerente0001';
GRANT SELECT, UPDATE ON TABLE cliente TO "Gerente" WITH GRANT OPTION;
GRANT SELECT, UPDATE ON TABLE disponibilidade TO "Gerente" WITH GRANT OPTION;
GRANT SELECT, INSERT, UPDATE, DELETE ON TABLE compra TO "Gerente" WITH GRANT OPTION;
GRANT SELECT, UPDATE ON TABLE veiculos TO "Gerente" WITH GRANT OPTION;
GRANT SELECT, UPDATE ON TABLE rotas TO "Gerente" WITH GRANT OPTION;
GRANT SELECT, UPDATE ON TABLE horario TO "Gerente" WITH GRANT OPTION;
GRANT SELECT ON TABLE cidade TO "Gerente" WITH GRANT OPTION;

CREATE ROLE "Cliente" WITH LOGIN PASSWORD 'cliente2000';
GRANT SELECT, UPDATE ON TABLE cliente TO "Cliente";
GRANT SELECT ON TABLE disponibilidade TO "Cliente";
GRANT SELECT, INSERT ON TABLE compra TO "Cliente";
GRANT SELECT ON TABLE rotas TO "Cliente";
GRANT SELECT ON TABLE cidade TO "Cliente";

CREATE ROLE "Vendedor"  WITH LOGIN PASSWORD 'vendedor-0002';
CREATE ROLE "Motorista"  WITH LOGIN PASSWORD 'motorista-0003';

GRANT SELECT, UPDATE ON TABLE cliente TO "Vendedor";
GRANT SELECT ON TABLE disponibilidade TO "Vendedor";
GRANT SELECT, INSERT, DELETE ON TABLE compra TO "Vendedor";
GRANT SELECT ON TABLE veiculos TO "Vendedor";
GRANT SELECT ON TABLE rotas TO "Vendedor";
GRANT SELECT ON TABLE horario TO "Vendedor";
GRANT SELECT ON TABLE cidade TO "Vendedor";
GRANT SELECT ON TABLE compra TO "Motorista";


